model User {
  id       Int    @id @default(autoincrement())
  email    String @unique
  name     String
  password String
  balance  Int    @default(0)
  role     USER_ROLE   @default(USER)

  sentTransactions     Transaction[] @relation("SentTransactions")
  receivedTransactions Transaction[] @relation("ReceivedTransactions")
}

model Transaction {
  id        Int      @id @default(autoincrement())
  fromId    Int
  toId      Int
  amount    Int
  createdAt DateTime @default(now())

  from User @relation("SentTransactions", fields: [fromId], references: [id])
  to   User @relation("ReceivedTransactions", fields: [toId], references: [id])
}

enum USER_ROLE {
  USER
  ADMIN
}
